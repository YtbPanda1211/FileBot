//---------Danh s√°ch c√¥ng vi·ªác-----------//
let works = {
    'üé£': {
        name: 'ùóñùóÆÃÇùòÇ ùó∞ùóÆÃÅ',
        img: 'https://i.imgur.com/DoB5Cw8.gif',
        done: [
            ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c con c√° ƒë√®n l·ªìng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/BXng765.jpeg'],
            ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° m·∫≠p v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/dyLyvOA.jpeg'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c t√¥m t√≠t v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/YJiCTWH.jpeg'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° ng·ª´ v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/eshOIiJ.jpeg'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° m·∫≠p v√† b√°n ƒë∆∞·ª£c  {money}$', 'https://i.imgur.com/dyLyvOA.jpeg'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° thu v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/YAS5iGM.jpeg'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° koi v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/BXwB4xZ.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° tr√™ v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/IE6LQU3.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c t√¥m h√πm ƒë·∫•t v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/XbSWNha.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° ki·∫øm v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/nLndbMc.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° v·∫πt v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/7H5XwLb.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° h·ªÅ v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/cLvJZlM.png'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° v√¢y tay v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/jw5bqu7.png'],
            ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° ch√©p v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/7hVzeDJ.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° m·∫≠p tr·∫Øng l·ªõn v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/TuMhGBS.png'],
            ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° m·∫≠p nh√°m b√∫a v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/JDVZ3J7.jpeg'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° h·ªìi v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/wKijFF0.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° kh·ªßng long ho√†ng ƒë·∫ø v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/w42NHef.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° h·ªìng v·ªãnh v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/UjdnHhE.png'],
          ['b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° v∆∞·ª£ng mi·ªáng r·ªông v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/Cw0qh57.png'],
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° betta v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/d33003f.png'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° r√¥ phi v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/sqBRoDe.png'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° ng·ª´ ƒë·∫°i d∆∞∆°ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/A1qXwXV.png'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° nh√°m voi v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/K7Qy4mI.png'],
           ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° pecca v√†ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/S9Qqr3D.png'], 
          ['{name} b·∫°n v·ª´a b·∫Øt ƒë∆∞·ª£c c√° m√π l√°n ch·∫•m hoa v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/A5XeYbS.png'],
        ]
    },
    'üèπ': {
        name: 'ùó¶ùóÆÃÜùóª ùòÅùóµùòÇÃÅ',
        img: 'https://i.imgur.com/jc2j4ps.gif',
        done: [
            ['{name} b·∫Øn ƒë∆∞·ª£c con r·∫Øn v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/Q7vv6mG.jpg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con r·ªìng komodo v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/Y8mfwPN.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con b√≥i c√° v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/XAM9Ne6.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con g·∫•u n√¢u v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/A3OxqoB.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con r·∫Øn Anaconda v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/4z6kr8V.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con hu∆°u v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/lHQKacE.jpg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con heo r·ª´ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/eQQUR3s.jpg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con s∆∞ t·ª≠ v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/ThGSaPn.jpg'],


        ]
    },
  '‚õèÔ∏è': { 
    name: 'ƒêùóÆÃÄùóº ƒëùóÆÃÅ', 
    img: 'https://i.imgur.com/zBWwXzN.gif', 
    done: [ 
      ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c vi√™n kim c∆∞∆°ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/9cHq8nN.png'],
       ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c v√†ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/HB0Bmqo.jpg'],
       ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c qu·∫∑ng s·∫Øt v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/wD0VEZ8.png'],
      ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c ng·ªçc l·ª•c b·∫£o v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/NyYurEd.jpg'],
       ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c ng·ªçc anh t√≠m v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/8kc5m2L.jpg'],
       ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c than ƒë√° v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/CY3lCqx.jpg'],
       ['{name} ƒë√£ ƒë√†o ƒë∆∞·ª£c ruby c·ª±c hi·∫øm v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/OoP1Smk.jpg'],

      ]
  },
  'ü¶Ö': {
        name: 'ùóïùóÆÃÜÃÅùóª ùó∞ùóµùó∂ùó∫',
        img: 'https://i.imgur.com/4DctekU.gif',
        done: [
            ['{name} b·∫Øn ƒë∆∞·ª£c con chim ƒëen v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/IPeNm8n.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con ƒë·∫°i b√†ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/EklUNah.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim √©n v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/kUhS155.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim v√†nh khuy√™n v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/DErkrnd.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim ƒëu√¥i d√†i v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/PMaurmG.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim ch√≠ch ch√≤e v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/muJCa5P.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con v·∫πt v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/2nN01CY.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim h·ªça mi v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/88Cq2Hf.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim ch√†o m√†o v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/9R8BrMF.jpeg'],
          ['{name} b·∫Øn ƒë∆∞·ª£c con chim s·∫ª v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/yZcWTT6.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim v√†ng anh v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/bk9a6e4.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim ch√¨a v√¥i v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/SxhsgX2.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim cu g√°y v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/ZdFZQ1N.jpeg'],
           ['{name} b·∫Øn ƒë∆∞·ª£c con chim y·∫øn ph·ª•ng v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/FG61Y7R.jpeg'],
          ['{name} b·∫Øn ƒë∆∞·ª£c con chim s∆°n ca v√† b√°n ƒë∆∞·ª£c {money}$', 'https://i.imgur.com/XZSGXkL.jpeg'],

          ],
  },
    // th√™m ti·∫øp c√¥ng vi·ªác...
};


module.exports.config = {
    name: 'work',
    version: '0.0.1',
    hasPermssion: 0,
    credits: 'DC-Nam',
    description: 'work ki·∫øm money',
    commandCategory: 'Box chat',
    usages: '[]',
    cooldowns: 3,
    usePrefix: false
};
let stream_url = url=>require('axios').get(url, {
    responseType: 'stream',
}).then(res => res.data);
let _0 = x=>x < 10?'0'+x: x;
let random = (min, max)=>Math.random()*(max-min+1)+min<<0;
module.exports.run = async ({ api, event, Threads }) => {
  const axios = require('axios');
  const url = 'https://i.imgur.com/YeXgnD1.jpeg';
  const img = (await axios.get(url, { responseType: "stream"})).data
  api.sendMessage({body: `==== [ ùó™ùó¢ùó•ùóû ùóûùóúùóòÃÇÃÅùó† ùóßùóúùóòÃÇÃÄùó° ] ====\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n${Object.entries(works).map(($, i)=> `[ ${i+1} | ${$[0]} ] ${$[1].name}`).join('\n')}\n\n‚û© ùó•ùó≤ùóΩùóπùòÜ ùòÅùóµùó≤ùóº ùòÅùóµùòÇÃõÃÅ ùòÅùòÇÃõÃ£ ùóºùóø ùòÅùóµùóÆÃâ ùó∞ùóÆÃâùó∫ ùòÖùòÇÃÅùó∞ ùòÅùòÇÃõùóºÃõùóªùó¥ ùòÇÃõÃÅùóªùó¥ ùòÉùóÆÃÄùóº ùòÅùó∂ùóª ùóªùóµùóÆÃÜÃÅùóª ùóªùóÆÃÄùòÜ ùòÉùóºÃõÃÅùó∂ ùóªùóµùòÇÃõÃÉùóªùó¥ ùó∞ùóºÃÇùóªùó¥ ùòÉùó∂ùó≤Ã£ÃÇùó∞ ùòÅùóøùó≤ÃÇùóª ƒëùó≤ÃÇÃâ ùó∏ùó∂ùó≤ÃÇÃÅùó∫ ùòÅùó∂ùó≤ÃÇÃÄùóª`, attachment: (img)}, event.threadID, (err, res) => (res.name = exports.config.name, res.event = event, global.client.handleReaction.push(res), global.client.handleReply.push(res)), event.messageID);
    }
exports.handleReaction = async o => {
    let _ = o.handleReaction;
    let uid = o.event.userID;
    let user = await o.Users.getData(uid);if (!user)return send(`Error`);
    let data = user.data;
    let send = (msg, callback) => o.api.sendMessage(msg, o.event.threadID, callback, o.event.messageID);
    if  (!data)user.data = {};
    if (uid != _.event.senderID)return;
    if (typeof data.work != undefined && data.work>= Date.now())return (x=>send(`h√£y l√†m vi·ªác sau: ${_0(x/1000/60<<0)} ph√∫t ${_0(x/1000%60<<0)} gi√¢y.`))(data.work-Date.now());
    let work = works[o.event.reaction];
    let msg = {};
    if (!work)return send(`C√¥ng vi·ªác kh√¥ng c√≥ trong danh s√°ch`);
    data.work = Date.now()+(1000*60*5);
    o.Users.setData(uid, user);
    let wgm = await new Promise(async resolve => send({body: `ƒêang ${work.name}...`,
        attachment: work.img?await stream_url(work.img):[],
    }, (err, res) => resolve(res || {})));
    await new Promise(out=>setTimeout(out, 1000*3.5));
    let done = work.done[Math.random()*work.done.length<<0];
    let $ = random(20000, 100000);
    msg.body = done[0].replace(/{name}/g, user.name).replace(/{money}/g, $);
    if (!!done[1])msg.attachment = await stream_url(done[1]);
    send(msg, () => o.api.unsendMessage(wgm.messageID));
    o.Currencies.increaseMoney(uid, $);
};
exports.handleReply = async o => {
    let _ = o.handleReply;
    let uid = o.event.senderID;
    let user = await o.Users.getData(uid);if (!user)return send(`Error`);
    let data = user.data;
    let send = (msg, callback) => o.api.sendMessage(msg, o.event.threadID, callback, o.event.messageID);
    if  (!data)user.data = {};
    if (uid != _.event.senderID)return;
    if (typeof data.work != undefined && data.work>= Date.now())return (x=>send(`h√£y l√†m vi·ªác sau: ${_0(x/1000/60<<0)} ph√∫t ${_0(x/1000%60<<0)} gi√¢y.`))(data.work-Date.now());
    let work = Object.values(works)[o.event.body-1];
    let msg = {};
    if (!work)return send(`C√¥ng vi·ªác kh√¥ng c√≥ trong danh s√°ch`);
    data.work = Date.now()+(1000*60*5);
    o.Users.setData(uid, user);
    let wgm = await new Promise(async resolve => send({body: `ƒêang ${work.name}...`,
        attachment: work.img?await stream_url(work.img):[],
    }, (err, res) => resolve(res || {})));
    await new Promise(out => setTimeout(out, 1000*3.5));
    let done = work.done[Math.random()*work.done.length<<0];
    let $ = random(20000, 100000);
    msg.body = done[0].replace(/{name}/g, user.name).replace(/{money}/g, $);
    if (!!done[1])msg.attachment = await stream_url(done[1]);
    send(msg, () => o.api.unsendMessage(wgm.messageID));
    o.Currencies.increaseMoney(uid, $);
};